<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <title>UTD Mart</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="mystyle.css">

</head>
<body>


<header>
  <h2><Strong>UTD Mart</Strong></h2>
  <p id="datetime"></p>

</header>

<div class="topnav">
  <a  href="Fresh_Products.html">Fresh Products</a>
  <a  href="Frozen.html">Frozen</a>
  <a class="active" href="Pantry.html">Pantry</a>
  <a  href="BreakfastandCereal.html">Breakfast & Cereal</a>
  <a  href="Baking.html">Baking</a>
  <a  href="Snacks.html">Snacks</a>
  <a  href="Candy.html">Candy</a>
  <a  href="Specialty_shop.html">Specialty Shop</a>
  <a  href="Deals.html">Deals</a>
  <a  href="My_account.html">My Account</a>
  <a  href="About_us.html">About us</a>
  <a  href="Contact_us.html">Contact Us</a>
  <a href="cart.html">
    <i class="fa fa-shopping-cart"></i> Cart
</a>
</div>


<section>

  <div class = "container-1">
    <nav>
      <ol>
        <img src="pantry.jpg" alt="Frozen" width="90%" height="240" padding-right="10">
      <br/>
      <br/>
      <li>Inventory Management</li>
      <li>Product Information</li>
      <li>Pricing Strategies</li>
      <li>Categorization and Organization</li>
      <li>Supplier Relationships</li>
      <li>Storage and Display</li>
      <li>Inventory Control Methods</li>
      <li>Quality Assurance</li>
      <li>Security Measures</li>
      </ol>
    </nav>
  
    
    <article>
      <h1>Pantry</h1>
      
      <p> A pantry in a supermarket typically refers to a section or aisle within the store where customers can find non-perishable food items and household essentials. These items are typically packaged and have a longer shelf life compared to fresh or perishable goods. Here is some brief information about the pantry section in a supermarket:
        <dl>
          <dt> <h1> <em>Products Range</em></h1></dt>
          <dd>Pantry sections in supermarkets offer a wide range of products, including canned goods (e.g., canned vegetables, soups, and fruits), dry goods (e.g., pasta, rice, cereal, and baking supplies), condiments (e.g., sauces, spices, and salad dressings), beverages (e.g., bottled water, soda, and juice), and household items (e.g., cleaning supplies, paper towels, and toiletries).</dd>

          <dt> <h1><em>Convenience</em></h1></dt>
          <dd>The pantry section is designed for convenience, making it easy for customers to find essential items for their everyday needs without having to navigate through the entire store.</dd>


          <dt><h1><em>pricing</em></h1></dt>
          <dd>Prices in the pantry section can vary widely depending on the brand, quality, and quantity of the products. Many supermarkets offer both name-brand and generic/store-brand options, which can be more budget-friendly.</dd>


          <dt><h1><em>Storage</em></h1></dt>
          <dd>Non-perishable pantry items are designed for long-term storage and typically have longer shelf lives than fresh products. However, it's still important for consumers to check expiration dates to ensure freshness and safety.</dd>


          <dt><h1><EM>Online Shopping</EM></h1></dt>
          <dd>Many supermarkets also offer online shopping and delivery services, allowing customers to order pantry items and have them delivered to their doorstep.</dd>
        </dl>
        <br>
      The pantry section in a supermarket is a crucial part of the store, as it provides customers with access to essential goods that can be stored for extended periods and used in their daily lives. </p>
    </article>
  </section>

  </div>
  

<footer>
  <p align="left">DMK220001, Denish Kalariya, CS6314.001</p>
  <p>Thank you for Visiting my website</p>
</footer>


<script>
  // Get the current date and time
  var currentDateTime = new Date();

  // Format the date and time as a string
  var dateTimeString = currentDateTime.toLocaleString(); // You can use other methods to format it differently

  // Display the date and time in an HTML element
  document.getElementById("datetime").textContent = "Current Date and Time: " + dateTimeString;
</script>
</body>
</html>
 -->


 <!DOCTYPE html>
 <html lang="en">
 <head>
   <title>UTD Mart</title>
 <meta charset="utf-8">
 <meta name="viewport" content="width=device-width, initial-scale=1">
 
 <link rel="stylesheet" href="mystyle.css">
 
 
 </head>
 <body>
 
 
 <header>
   <h2><Strong>UTD Mart</Strong></h2>
   <!-- <h2>Denish Kalariya</h2>
   <h2>dmk220001</h2>
   <h2>CS614</h2> -->
   <p align="left" id="date"></p>
 
 </header>
 
 <div class="topnav">
     <a   href="Fresh_Products.html">Fresh Products</a>
     <a  href="Frozen.html">Frozen</a>
     <a class="active" href="Pantry.html">Pantry</a>
     <a  href="BreakfastandCereal.html">Breakfast & Cereal</a>
     <a  href="Baking.html">Baking</a>
     <a  href="Snacks.html">Snacks</a>
     <a  href="Candy.html">Candy</a>
     <a  href="Specialty_shop.html">Specialty Shop</a>
     <a  href="Deals.html">Deals</a>
     <a  href="My_account.html">My Account</a>
     <a  href="About_us.html">About us</a>
     <a  href="Contact_us.html">Contact Us</a>
 
     <a href="cart.html">
       <i class="fa fa-shopping-cart"></i> Cart
   </a>
   </div>
   
 
 
 <section>
   <nav class="category-navigation">
     <ul>
       <img src="pantry.jpg" alt="Frozen" width="90%" height="240" padding-right="10">
       <!-- <br/>
       <br/>
       <h2>Fresh Fruits</h2>
       <li>Apples</li> 
       <li>Avocados</li>
       <li>Bananas</li>
       <li>Berries</li>
       <li>Grapefruit</li>
       <li>Grapes</li>
       <li>Kiwi</li>
       <li>Mangos</li>
 
       <h2>Fresh Vegetables</h2>
       <li>Asparagus</li> 
       <li>Beans</li>
       <li>Beets</li>
       <li>Broccoli</li>
       <li>Carrots</li>
       <li>Cauliflower</li>
     </ul> -->
     <h2>Shop by Category</h2>
       <ul>
         <li><a href="#" data-category="all">All Products</a></li>
         <li><a href="#" data-category="canned_goods">Canned Goods</a></li>
         <li><a href="#" data-category="canned_vegetables">Canned Vegetables</a></li>
         <li><a href="#" data-category="condiments">condiments</a></li>
         <li><a href="#" data-category="peannutbutterandspread">Peanut Butter and Spread</a></li>
         <li><a href="#" data-category="pastaandpizza">Pasta and Pizza</a></li>
         <li><a href="#" data-category="rollbacks">Rollbacks</a></li>

         <!-- Add more category links as needed -->
       </ul>
   </nav>
 
   
 
   
   <article>
 
     <!-- <h1>Products</h1> -->
     <h2 align="center" id="article-heading">Pantry Items</h2> 
     
       <div id="product-grid" class="product-grid">
 
         
         <!-- <div class="product-item" data-category="canned_goods">
           <img src="pantry/canned_good1.jpg" alt="leaf_spinach">
           <p>Fresh Cut Leaf Spinach</p>
           <p>Price: $7.99</p>
           <button onclick="addToCart('leaf_spinach', 7.99, 'canned_goods')">Add to Cart</button>
         </div>

         <div class="product-item" data-category="canned_goods">
          <img src="pantry/canned_good2.jpg" alt="kernelcorn">
          <p>Whole Kernel Corn</p>
          <p>Price: $8.99</p>
          <button onclick="addToCart('kernelcorn', 8.99, 'canned_goods')">Add to Cart</button>
        </div>


        <div class="product-item" data-category="canned_goods">
          <img src="pantry/Sardines.jpg" alt="sardines">
          <p>SarDines in Tomato Sauce and Chilli Added</p>
          <p>Price: $9.99</p>
          <button onclick="addToCart('sardines', 9.99, 'canned_goods')">Add to Cart</button>
        </div>
 


        

        <div class="product-item" data-category="canned_vegetables">
          <img src="pantry/mixedveg.jpg" alt="mixedveg">
          <p>Canned Vegetables - Canned Veggies | Del Monte®</p>
          <p>Price: $11.99</p>
          <button onclick="addToCart('mixedveg', 11.99, 'canned_vegetables')">Add to Cart</button>
        </div>


        <div class="product-item" data-category="canned_vegetables">
          <img src="pantry/peasandcarrot.png" alt="peasandcarrot">
          <p>Canned Vegetables - Canned Veggies | Del Monte® Peas and Carrots</p>
          <p>Price: $13.99</p>
          <button onclick="addToCart('mixedcarrots', 13.99, 'canned_vegetables')">Add to Cart</button>
        </div>


        <div class="product-item" data-category="canned_vegetables">
          <img src="pantry/wholepotato.jpg" alt="wholepotato">
          <p>Canned Vegetables - Canned Veggies | Del Monte® Whole Potato</p>
          <p>Price: $7.99</p>
          <button onclick="addToCart('wholepotato', 7.99, 'canned_vegetables')">Add to Cart</button>
        </div>



        

        <div class="product-item" data-category="condiments">
          <img src="pantry/hotsauce.jpg" alt="hotsauce">
          <p>Cholula hot Sauce</p>
          <p>Price: $9.99</p>
          <button onclick="addToCart('hotsauce', 9.99, 'condiments')">Add to Cart</button>
        </div>
         


        <div class="product-item" data-category="condiments">
          <img src="pantry/periperi.jpg" alt="periperi">
          <p>PeriPeri Marinade</p>
          <p>Price: $10.99</p>
          <button onclick="addToCart('periperi', 10.99, 'condiments')">Add to Cart</button>
        </div>


        <div class="product-item" data-category="condiments">
          <img src="pantry/horseradish.jpg" alt="horseradish">
          <p>Horseradish Sauce - Market Pantry</p>
          <p>Price: $9.99</p>
          <button onclick="addToCart('horseradish', 9.99, 'condiments')">Add to Cart</button>
        </div>



        

        <div class="product-item" data-category="peannutbutterandspread">
          <img src="pantry/skippy.jpg" alt="skippy">
          <p>Natural Creamy Peanut Butter Spread - Skippy® Brand Peanut Butter</p>
          <p>Price: $6.99</p>
          <button onclick="addToCart('Skippy_peanut_Butter', 6.99, 'peannutbutterandspread')">Add to Cart</button>
        </div>


        <div class="product-item" data-category="peannutbutterandspread">
          <img src="pantry/mrsmiller.jpg" alt="mrsmiller">
          <p>4pk Amish Peanut Butter Squeeze 12oz</p>
          <p>Price: $4.99</p>
          <button onclick="addToCart('Mrs_miller_ButterSpread', 5.99, 'peannutbutterandspread')">Add to Cart</button>
        </div>

        <div class="product-item" data-category="peannutbutterandspread">
          <img src="pantry/voyage.jpg" alt="voyage">
          <p>Peanut-Free Spread – Voyage Foods</p>
          <p>Price: $4.99</p>
          <button onclick="addToCart('voyage', 4.99, 'peannutbutterandspread')">Add to Cart</button>
        </div>

        <div class="product-item" data-category="peannutbutterandspread">
          <img src="pantry/heb.jpg" alt="heb">
          <p>H-E-B Organics Peanut Butter Spread - Creamy - Shop Peanut Butter at H-E-B</p>
          <p>Price: $7.99</p>
          <button onclick="addToCart('HEB', 7.99, 'peannutbutterandspread')">Add to Cart</button>
        </div>


        
        
        <div class="product-item" data-category="pastaandpizza">
          <img src="pantry/banquetpasta.jpg" alt="banquet_pasta">
          <p>Banquet Homestyle Bakes Pizza Pasta, Meal Kit, 27.5 OZ</p>
          <p>Price: $3.55</p>
          <button onclick="addToCart('banquet_pasta', 3.55, 'pastaandpizza')">Add to Cart</button>
        </div>


        <div class="product-item" data-category="pastaandpizza">
          <img src="pantry/Rustichella.jpg" alt="Rustichella">
          <p>Rustichella Pasta & pizza in Pantry</p>
          <p>Price: $7.55</p>
          <button onclick="addToCart('Rustichella', 7.55, 'pastaandpizza')">Add to Cart</button>
        </div>


        <div class="product-item" data-category="pastaandpizza">
          <img src="pantry/thickpizzacrust.jpg" alt="pizzacrust">
          <p>Thick Pizza Crusts - 24oz/2ct - Market Pantry™</p>
          <p>Price: $4.55</p>
          <button onclick="addToCart('pizzacrust', 4.55, 'pastaandpizza')">Add to Cart</button>
        </div>


        <div class="product-item" data-category="pastaandpizza">
          <img src="pantry/thincrust.jpg" alt="thinpizzacrust">
          <p>Market Pantry Thin Crust Supreme Frozen Pizza (17.75 oz)</p>
          <p>Price: $5.55</p>
          <button onclick="addToCart('thinpizzacrust', 5.55, 'pastaandpizza')">Add to Cart</button>
        </div>



        
        <div class="product-item" data-category="rollbacks">
          <img src="pantry/ketchup.jpg" alt="ketchup">
          <p>Heinz Tomato Ketchup 3 packs</p>
          <p><s>Price: $9.99</s></p>
          <p>Price: $7.99</p>
          <button onclick="addToCart('ketchup', 7.99, 'rollbacks')">Add to Cart</button>
        </div>


        <div class="product-item" data-category="rollbacks">
          <img src="pantry/mustard.jpg" alt="mustard">
          <p>Goumet Mustard</p>
          <p><s>Price: $7.99</s></p>
          <p>Price: $4.99</p>
          <button onclick="addToCart('mustard', 4.99, 'rollbacks')">Add to Cart</button>
        </div> -->




         <!-- Repeat for additional product items (up to 9) -->
       </div>
 
   </article>
 </section>
 
 <footer>
   <p align="left">DMK220001, Denish Kalariya, CS6314.001</p>
   <p>Thank you for Visiting my website</p>
 </footer>
 
 
 <script>
 
 
 
 
 // Now you can use the 'cart' variable for your operations
 
 
 // Now you can use the 'cart' variable for your operations
 
 
 // Now you can use the 'cart' variable for your operations
 
 
   // Get the current date and time
   function updateDateTime() {
            const now = new Date();
            const currentDateTime = now.toLocaleString();
            document.getElementById('date').innerHTML = currentDateTime;
      }
      setInterval(updateDateTime, 1000);




    

let productData = "";
let Inventorydata = "";
function initializeCart() {
  try {
    var cartData = localStorage.getItem('cart');
    return cartData ? JSON.parse(cartData) : {}; // Provide a default empty object if cartData is undefined
  } catch (error) {
    console.error('Error parsing cart data from local storage:', error);
    return {}; // Provide a default empty object in case of errors
  }
}

var cart = initializeCart();
// let cart = {};
let products = [];
let inventory = [];

async function fetchProductData() {
  try {
    const response = await fetch("Pantry_products.json");
    const data = await response.text();
    productData = data;
    // console.log(productData);
  } catch (error) {
    console.error("Error fetching product data:", error);
  }
}
fetchProductData();

var source  = "Pantry_Inventory.json";

async function fetchProductInventory() {
  try {
    const response = await fetch("Pantry_Inventory.json");
    const data = await response.text();
    Inventorydata = data;
    // console.log(Inventorydata);
  } catch (error) {
    console.error("Error fetching product data:", error);
  }
}
fetchProductInventory();


async function initializeData() {
  
  await fetchProductData();
  await fetchProductInventory();
  console.log("TRUEEEEEEEEEEEEEEEEEEE")
  if (productData && Inventorydata) {
    // Parse product data
    const productJsonData = JSON.parse(productData);
    products = productJsonData.products;
    console.log(products)

    // Parse inventory data
    const inventoryJsonData = JSON.parse(Inventorydata);
    inventory = inventoryJsonData.inventory;

    console.log(inventory);

    // Call the function to create product cards after data is initialized
    createProductCards('all', products, inventory);
  }
}

initializeData();



function createProductCards(category, products, inventory) {
  const productGrid = document.getElementById('product-grid');
  productGrid.innerHTML = ''; // Clear existing products
  for (let i = 0; i < products.length; i++) {
    const product = products[i];
    const productCategory = product.category;

    // Check if the product belongs to the selected category or if 'All Products' is selected
    if (category === 'all' || productCategory === category) {
      const name = product.name;
      const image = product.image;
      const price = product.price;

      const productItem = document.createElement('div');
      productItem.classList.add('product-item');
      productItem.setAttribute('data-category', productCategory);

      productItem.innerHTML = `
        <img src="${image}" alt="${name}">
        <p>${name}</p>
        <p>Price: $${price.toFixed(2)}</p>
        <button onclick="addToCart('${name}', ${price}, '${productCategory}','${source}')">Add to Cart</button>
      `;

      productGrid.appendChild(productItem);
    }
  }
}




document.querySelectorAll('.category-navigation a').forEach(function(link) {
    link.addEventListener('click', function(event) {
      event.preventDefault();
      const selectedCategory = link.getAttribute('data-category');
      document.getElementById('article-heading').textContent = selectedCategory === 'all' ? 'All Products' : selectedCategory;
      createProductCards(selectedCategory, products, inventory);
    });
  });

  // Initialize with 'All Products' when the page loads
  document.getElementById('article-heading').textContent = 'All Products';
  createProductCards('all', products, inventory);




     // JavaScript to filter and display products based on the selected category
// const categoryLinks = document.querySelectorAll('[data-category]');
//  categoryLinks.forEach(link => {
//    link.addEventListener('click', function (event) {
//      event.preventDefault();
//      const selectedCategory = this.getAttribute('data-category');
//      const productItems = document.querySelectorAll('.product-item');
//      productItems.forEach(item => {
//        const itemCategory = item.getAttribute('data-category');
//        if (selectedCategory === 'all' || selectedCategory === itemCategory) {
//          item.style.display = 'block';
//        } else {
//          item.style.display = 'none';
//        }
 
//        // Update the article heading with the selected category
//        document.getElementById('article-heading').textContent = selectedCategory;
//      });
//    });
//  });

 // Function to retrieve and initialize cart data from local storage
//  function initializeCart() {
//    try {
//      var cartData = localStorage.getItem('cart');
//      return cartData ? JSON.parse(cartData) : {}; // Provide a default empty object if cartData is undefined
//    } catch (error) {
//      console.error('Error parsing cart data from local storage:', error);
//      return {}; // Provide a default empty object in case of errors
//    }
//  }
 
//  var cart = initializeCart(); // Call the function to initialize cart data




 
 // Define inventory for products
//  var inventory = {
//   thinpizzacrust : 3,
//   pizzacrust : 4,
//   Rustichella : 5,
//   banquet_pasta : 7,
//   HEB : 7,
//   voyage : 5,
//   Mrs_miller_ButterSpread : 10,
//   Skippy_peanut_Butter : 11,
//   horseradish : 8,
//   periperi : 9,
//   hotsauce : 10,
//   wholepotato : 10,
//   mixedcarrots : 10,
//   mixedveg : 10,
//   sardines : 9,
//   kernelcorn : 10,
//   leaf_spinach : 10,
//   ketchup : 4,
//   mustard : 9,
//    // Add more products and their initial inventory here
//  };
 
 function updateInventory(itemName, quantity, source) {
   if (inventory[itemName] !== undefined) {
     inventory[itemName] -= quantity;
     inventory[source] = source;
   }

  //  updateInventoryJSON();
 }


//  function updateInventoryJSON() {
//   const updatedInventoryData = JSON.stringify({ inventory });
  
//   // Assuming "update_inventory.php" is the server-side script to update the JSON file
//   fetch('update_inventory.php', {
//     method: 'POST',
//     headers: {
//       'Content-Type': 'application/json',
//     },
//     body: updatedInventoryData,
//   })
//     .then(response => response.json())
//     .then(data => {
//       console.log('Inventory updated successfully:', data);
//     })
//     .catch(error => {
//       console.error('Error updating inventory:', error);
//     });
// }

// async function updateInventoryJSON(itemName, quantity) {
//   try {
//     // Fetch the current JSON file
//     const response = await fetch('Pantry_Inventory.json');
//     const jsonData = await response.json();

//     // Find the item in the inventory
//     const inventoryItem = jsonData.inventory[itemName];
//     if (inventoryItem !== undefined) {
//       // Update the quantity in the JSON data
//       jsonData.inventory[itemName] -= quantity;

//       // Save the updated JSON back to the file using a server-side script (you need to implement this)
//       const updateResponse = await fetch('update_inventory.php', {
//         method: 'POST',
//         headers: {
//           'Content-Type': 'application/json',
//         },
//         body: JSON.stringify(jsonData),
//       });

//       const updateData = await updateResponse.json();
//       console.log('Inventory updated successfully:', updateData);
//     } else {
//       console.error('Item not found in the inventory JSON:', itemName);
//     }
//   } catch (error) {
//     console.error('Error updating inventory JSON:', error);
//   }
// }






 
 // Now you can use the 'cart' and 'inventory' variables for your operations
 
 function addToCart(itemName, itemPrice, itemCategory, itemSource) {
   // Check if the item is in stock
   if (inventory[itemName] === undefined || inventory[itemName] === 0) {
     alert(itemName + " is out of stock.");
     return; // Don't add the item to the cart if it's out of stock
   }
 
   // Modify item name to remove spaces or replace with underscores
   const modifiedItemName = itemName.replace(/ /g, '_');
 
   if (!cart[modifiedItemName]) {
     cart[modifiedItemName] = {
       price: itemPrice,
       category: itemCategory,
       quantity: 1,
       source : 'Pantry_Inventory.json'
     };
   } else {
     cart[modifiedItemName].quantity++;
   }
 
   // Update the inventory
   updateInventory(itemName, 1);
  //  updateInventoryJSON(itemName, 1);
 
   // Update the local storage
   localStorage.setItem('cart', JSON.stringify(cart));
   alert(itemName + " added to cart! (Source: " + itemSource + ")");

   console.log(inventory);



   /// UPDATE
  const xhr = new XMLHttpRequest();
  xhr.onreadystatechange = function () {
    if (xhr.readyState == 4 && xhr.status == 200) {
      // Handle the response from the server, if needed
      console.log(xhr.responseText);
    }
  };

  const data = `itemName=${encodeURIComponent(itemName)}&itemPrice=${encodeURIComponent(itemPrice)}&itemCategory=${encodeURIComponent(itemCategory)}`;
  xhr.open('POST', 'pantry.php', true);
  xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
  console.log(data);
  xhr.send(data);

  

 }


 </script>
 </body>
 </html>
 
 